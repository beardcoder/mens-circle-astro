---
import NavBar from "../components/NavBar.astro";
import Footer from "../components/layout/Footer.astro";
import { navigationLinks as defaultNavLinks, nextEvent } from "../data";
import type { NavLink } from "../types";
import "../styles/global.css";

type Props = {
  title?: string;
  description?: string;
  canonicalPath?: string;
  navLinks?: NavLink[];
};

const {
  title = "Männerkreis Straubing Niederbayern - Persönliche Entwicklung für Männer",
  description = "Männerkreis in Straubing für persönliche Entwicklung. Authentischer Austausch in geschütztem Raum. Männergruppe Niederbayern mit monatlichen Treffen.",
  canonicalPath = Astro.url.pathname,
  navLinks = defaultNavLinks,
} = Astro.props;

const canonicalUrl = new URL(canonicalPath, "https://mens-circle.de").toString();
---

<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta
      http-equiv="x-ua-compatible"
      content="IE=edge"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />
    <meta
      name="description"
      content={description}
    />
    <meta
      name="robots"
      content="index,follow"
    />
    <meta
      name="author"
      content="Markus Sommer"
    />
    <meta
      name="language"
      content="de"
    />
    <meta
      name="view-transition"
      content="same-origin"
    />
    <meta
      property="og:title"
      content={title}
    />
    <meta
      property="og:description"
      content={description}
    />
    <meta
      name="twitter:card"
      content="summary"
    />
    <link
      rel="canonical"
      href={canonicalUrl}
    />
    <link
      href="/favicon-48x48.png"
      rel="icon"
      sizes="48x48"
      type="image/png"
    />
    <link
      href="/favicon.svg"
      rel="icon"
      type="image/svg+xml"
    />
    <link
      href="/apple-touch-icon.png"
      rel="apple-touch-icon"
      sizes="180x180"
    />
    <meta
      content="Men’s Circle Niederbayern"
      name="apple-mobile-web-app-title"
    />
    <link
      href="/site.webmanifest"
      rel="manifest"
    />
    <title>{title}</title>
  </head>
  <body>
    <NavBar
      activePath={Astro.url.pathname}
      cta={{ href: nextEvent.ctaHref, label: "Nächstes Treffen →" }}
      links={navLinks}
    />
    <main
      class="page"
      id="app"
    >
      <slot />
    </main>
    <Footer
      links={[
        { href: "/", label: "Home" },
        ...navLinks,
        { href: "/datenschutz", label: "Datenschutz" },
      ]}
    />
  </body>
</html>
