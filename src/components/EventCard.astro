---
import type { Event } from "@app-types/pocketbase";
import { getDateParts } from "@utils/date";

type Props = {
  event: Event;
};

const { event } = Astro.props;
const { day, month, year, time } = getDateParts(event.start_date);
---

<article class="reveal-card relative overflow-hidden bg-[var(--color-white)] dark:bg-[color-mix(in_srgb,#241d18_100%,transparent)] rounded-[var(--radius-xl)] shadow-[var(--shadow-md)] transition-all duration-500 [transition-timing-function:cubic-bezier(0.34,1.56,0.64,1)] hover:-translate-y-2.5 hover:scale-[1.02] hover:shadow-[0_24px_72px_rgba(193,123,93,0.3)] dark:hover:shadow-[0_24px_72px_rgba(193,123,93,0.3)] grid md:grid-cols-[1fr_2fr] gap-0 before:content-[''] before:absolute before:inset-[-2px] before:rounded-[var(--radius-xl)] before:bg-[var(--gradient-primary)] before:opacity-0 before:pointer-events-none before:z-0 before:transition-opacity before:duration-500 before:[transition-timing-function:cubic-bezier(0.4,0,0.2,1)] hover:before:opacity-80 before:p-0.5 before:[mask:linear-gradient(white_0_0)_content-box,linear-gradient(white_0_0)] before:[mask-composite:exclude] before:[-webkit-mask:linear-gradient(white_0_0)_content-box,linear-gradient(white_0_0)] before:[-webkit-mask-composite:xor]">
  <div class="bg-[var(--gradient-primary)] text-[var(--color-white)] p-[var(--spacing-2xl)] text-center flex flex-col justify-center items-center relative transition-all duration-500 [transition-timing-function:cubic-bezier(0.34,1.56,0.64,1)] hover:scale-105 after:content-[''] after:absolute after:right-0 after:inset-y-0 after:w-px after:bg-gradient-to-b after:from-transparent after:via-[color-mix(in_srgb,var(--color-white)_20%,transparent)] after:to-transparent">
    <div class="flex flex-col gap-2 mb-[var(--spacing-lg)]">
      <span class="text-[4.5rem] font-black leading-[0.9] tracking-[-0.02em]">{day}</span>
      <span class="text-lg font-semibold uppercase tracking-[0.15em] opacity-95">{month}</span>
      <span class="text-base font-medium opacity-85">{year}</span>
    </div>
    <p class="text-sm uppercase tracking-[0.1em] opacity-75 border-t border-[color-mix(in_srgb,var(--color-white)_20%,transparent)] mt-[var(--spacing-md)] pt-[var(--spacing-md)]">MÃ¤nnerkreis</p>
  </div>
  <div class="relative z-10 flex flex-col gap-[var(--spacing-md)] p-[var(--spacing-2xl)]">
    <h3 class="font-display text-[clamp(1.5rem,3vi,2rem)] font-extrabold leading-[1.2] text-[var(--color-text)]">{event.title}</h3>
    <p class="text-[var(--color-text-light)] text-[1.0625rem] leading-[1.7]">{event.description}</p>
    <div class="grid md:grid-cols-2 gap-[var(--spacing-md)] border-t border-[var(--color-bg-dark)] dark:border-[color-mix(in_srgb,var(--color-primary)_20%,transparent)] mt-[var(--spacing-md)] pt-[var(--spacing-lg)]">
      <div class="flex items-start gap-3 text-[var(--color-text)] text-[0.9375rem]">
        <span
          class="flex-shrink-0 text-xl leading-none"
          aria-hidden="true"
          >ğŸ“</span
        >
        <div class="flex flex-col gap-0.5">
          <span class="text-[var(--color-text-light)] uppercase tracking-[0.05em] text-xs font-semibold">Ort</span>
          <span class="text-[var(--color-text)] font-medium"
            >{event.expand.location.title},
            {event.expand.location.address},
            {event.expand.location.zip}
            {event.expand.location.city}</span
          >
        </div>
      </div>
      <div class="flex items-start gap-3 text-[var(--color-text)] text-[0.9375rem]">
        <span
          class="flex-shrink-0 text-xl leading-none"
          aria-hidden="true"
          >ğŸ•</span
        >
        <div class="flex flex-col gap-0.5">
          <span class="text-[var(--color-text-light)] uppercase tracking-[0.05em] text-xs font-semibold">Zeit</span>
          <span class="text-[var(--color-text)] font-medium">{time}</span>
        </div>
      </div>
    </div>
    <div class="flex gap-[var(--spacing-md)] mt-[var(--spacing-lg)]">
      <a
        class="flex-1 inline-flex justify-center items-center gap-2 px-8 py-4 rounded-full bg-[var(--gradient-primary)] text-[var(--color-white)] font-semibold text-base shadow-[var(--shadow-colored)] transition-all duration-300 [transition-timing-function:var(--transition-smooth)] hover:shadow-[var(--shadow-colored-lg)] hover:-translate-y-0.5 no-underline"
        href={event.slug ? `/events/${event.slug}` : "#"}
      >
        Zur Anmeldung
      </a>
    </div>
  </div>
</article>
