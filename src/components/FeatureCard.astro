---
import { Image } from "astro:assets";
import type { FeatureCardContent } from "@app-types";

type Props = {
  feature: FeatureCardContent;
};

const { feature } = Astro.props;
const hasImage = Boolean(feature.image);
---

<article
  class:list={[
    "reveal-card bg-[var(--color-white)] dark:bg-[color-mix(in_srgb,#241d18_100%,transparent)] rounded-[var(--radius-xl)] shadow-[var(--shadow-md)] overflow-hidden transition-all duration-500 [transition-timing-function:cubic-bezier(0.34,1.56,0.64,1)] hover:-translate-y-2 hover:shadow-[var(--shadow-lg)]",
    feature.variant === "large" ? "md:col-span-2" : ""
  ]}
  id={feature.id}
>
  {
    hasImage && (
      <div class="overflow-hidden">
        <Image
          alt={feature.label || feature.title}
          class="w-full h-64 object-cover transition-transform duration-500 hover:scale-105"
          loading="lazy"
          decoding="async"
          src={feature.image!}
        />
      </div>
    )
  }
  <div class="p-[var(--spacing-xl)] flex flex-col gap-[var(--spacing-md)]">
    {feature.label && <span class="inline-block text-[var(--color-primary)] dark:text-[var(--color-primary-light)] uppercase tracking-[0.1em] text-xs font-bold">{feature.label}</span>}
    <h3 class="font-display text-[var(--font-size-2xl)] font-extrabold leading-[var(--line-height-snug)] text-[var(--color-text)]">{feature.title}</h3>
    <p class="text-[var(--color-text-light)] text-base leading-[var(--line-height-relaxed)]" set:html={feature.description} />
  </div>
</article>
